# Charts JSON Structure Documentation

This document describes the structure of the `microsoft-vscode-mssql-charts.json` file generated by the issue analysis scripts.

## Top-Level Sections

The JSON file contains 7 main sections:

1. **`mostReactedIssues`** - Issues sorted by GitHub reactions
2. **`mostCommentedIssues`** - Issues sorted by comment count  
3. **`noAreaIssues`** - Open issues without area labels
4. **`noMilestoneIssues`** - Open issues without milestones
5. **`backlogIssues`** - Issues in the "Backlog" milestone
6. **`charts`** - Daily time-series data
4. **`MonthlyTrend`**: Monthly trend data is calculated by tracking daily changes in rolling window metrics from historical chart data, providing exact monthly counts while preserving historical accuracy of issue categorization.

## Detailed Schema

### Issue Lists Structure

#### Most Reacted Issues
```json
{
  "mostReactedIssues": [
    {
      "author": "string",           // GitHub username of issue author
      "number": number,             // GitHub issue number
      "url": "string",              // Full GitHub URL to the issue
      "title": "string",            // Issue title
      "totalReactions": number,     // Total reaction count (üëç, ‚ù§Ô∏è, etc.)
      "area": "string"              // Primary area label
    }
  ]
}
```

#### Most Commented Issues
```json
{
  "mostCommentedIssues": [
    {
      "author": "string",           // GitHub username of issue author
      "number": number,             // GitHub issue number
      "url": "string",              // Full GitHub URL to the issue
      "title": "string",            // Issue title
      "commentCount": number,       // Total number of comments
      "area": "string"              // Primary area label
    }
  ]
}
```

#### Issues Without Area Labels
```json
{
  "noAreaIssues": [
    {
      "createdAt": "string",        // ISO 8601 date string
      "number": "string",           // GitHub issue number (as string)
      "url": "string",              // Full GitHub URL to the issue
      "title": "string"             // Issue title
    }
  ]
}
```

#### Issues Without Milestones
```json
{
  "noMilestoneIssues": [
    {
      "createdAt": "string",        // ISO 8601 date string
      "number": "string",           // GitHub issue number (as string)
      "url": "string",              // Full GitHub URL to the issue
      "title": "string",            // Issue title
      "area": "string"              // Primary area label or "No Area"
    }
  ]
}
```

#### Backlog Issues
```json
{
  "backlogIssues": [
    {
      "createdAt": "string",        // ISO 8601 date string
      "number": "string",           // GitHub issue number (as string)
      "url": "string",              // Full GitHub URL to the issue
      "title": "string",            // Issue title
      "commentCount": number,       // Total number of comments
      "totalReactions": number,     // Total reaction count
      "area": "string"              // Primary area label or "No Area"
    }
  ]
}
```

### Time-Series Charts Structure

The core analytics data providing daily snapshots of issue metrics:

```json
{
  "charts": [
    {
      "date": "YYYY-MM-DD",         // Date in ISO format (YYYY-MM-DD)
      "area": "string",             // Product area or "Area - All" for totals
      "open": number,               // Open triaged issues on this date
      "untriaged": number,          // Open untriaged issues on this date
      "backlog": number,            // Issues in backlog milestone on this date
      "opened_last_30d": number,    // Issues opened in the 30 days ending on this date
      "closed_last_30d": number,    // Issues closed in the 30 days ending on this date
      "bucket_0_7": number,         // Open issues 0-7 days old on this date
      "bucket_8_30": number,        // Open issues 8-30 days old on this date
      "bucket_31_90": number,       // Open issues 31-90 days old on this date
      "bucket_91_180": number,      // Open issues 91-180 days old on this date
      "bucket_180_plus": number     // Open issues 180+ days old on this date
    }
  ]
}
```

### Monthly Trend Structure

Aggregated monthly data for the last 6 months using absolute month boundaries:

```json
{
  "MonthlyTrend": [
    {
      "month": "YYYY-MM",           // Month in YYYY-MM format
      "area": "string",             // Product area or "Area - All" for totals
      "issuesOpened": number,       // Exact count of issues opened during this calendar month
      "issuesClosed": number        // Exact count of issues closed during this calendar month
    }
  ]
}
```


## Key Metrics Explained

### Issue States
- **Open**: Issues currently open and triaged (assigned to a milestone other than "Backlog")
- **Untriaged**: Open issues without a milestone or with null milestone
- **Backlog**: Open issues specifically assigned to the "Backlog" milestone

### Age Buckets
Issues are categorized by how long they've been open:
- **0-7 days**: Recently created issues
- **8-30 days**: Issues open for about a month
- **31-90 days**: Issues open for 1-3 months
- **91-180 days**: Issues open for 3-6 months
- **180+ days**: Long-standing issues (6+ months old)

### Rolling Windows
- **opened_last_30d**: Rolling 30-day count of issues opened
- **closed_last_30d**: Rolling 30-day count of issues closed

